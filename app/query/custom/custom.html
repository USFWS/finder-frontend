<div class="hidden-print">
  <p>Use the form below to create a custom query.  Any combination of fields will create an <strong>AND</strong> query, which will return only those records that meet <strong>all</strong> of the query criteria will be returned.</p>

  <p>Selecting more than one option for a given field results in an <strong>OR</strong> query. If, for example, you select Amphibian and Bee from the taxon list it will return all species that are either in the amphibian or a bee taxonomic group.</p>

  <p>When querying by a species range you have two options.  Selecting the <strong>Any</strong> radio button will return species that includes any of the states included in your query.  The <strong>All</strong> option will only return those species who&rsquo;s range includes every state included in the query.</p>

  <p>Results will be displayed at the bottom of this page in a printer friendly format.  To print, use the browser's Print option from the file menu.</p>
</div>

<div class="panel panel-default hidden-print" ng-init="getOne()">
  <div class="panel-heading">
    <h2 class="panel-title">Create a custom query</h2>
  </div>
  <div class="panel-body">
    <form ng-submit="queryDatabase()">
      <div class="form-group">
        <label for="status-list">Current Status:</label>
        <select ng-options="str for str in statusList" ng-model="query.status" class="form-control" id="status-list" multiple></select>
      </div>
      <div class="form-group">
        <label for="taxon-list">Taxonomic Group:</label>
        <select ng-options="str for str in taxonList" ng-model="query.taxon" class="form-control" id="taxon-list" multiple></select>
      </div>
      <div class="form-group">
        <label for="offices">Lead Office:</label>
        <select ng-options="office.name for office in officeList" ng-model="query.offices" class="form-control" id="offices" multiple></select>
      </div>
      <div class="form-group">
        <label for="region">Lead Region:</label>
        <select ng-options="region for region in regionList" ng-model="query.regions" class="form-control" id="regions" multiple></select>
      </div>

      <div class="form-group">
        <label for="lands">Protected Lands:</label>
        <select ng-options="land.name for land in landsList" ng-model="query.lands" class="form-control" id="lands" multiple></select>
      </div>

      <div class="form-group">
        <label>Species Range:</label>
        <input type="radio" ng-model="query.rangeQueryType" name="stateQuery" value="any">&nbsp;&nbsp;Any&nbsp;&nbsp;
        <input type="radio" ng-model="query.rangeQueryType" name="stateQuery" value="all">&nbsp;&nbsp;All
        <leaflet geojson="geojson" center="center" defaults="mapDefaults" style="height: 300px;"></leaflet>
      </div>

      <button type="submit" class="btn btn-info btn-block">
        Query <span ng-if="loading.query" class="fa fa-spin fa-gear"></span>
      </button>
    </form><br>
    <button class="btn btn-default btn-block" type="button" ng-click="resetQuery()">
      &nbsp;&nbsp;&nbsp;Reset <span ng-if="loading.reset" class="fa fa-spin fa-gear"></span>
    </button>
  </div>
</div>

<div ng-show="results.length > 0" ng-include="'partials/query-results.html'"></div>
